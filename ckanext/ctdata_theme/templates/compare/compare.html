{% extends "page.html" %}


{% block page_name %}Compare Data{% endblock %}
{% block page_description %}
  <span id="dataset_name_val" style="color: black;"></span>
  <span>vs</span>
  <span id="compare_with_val" style="color: black;"></span>
{% endblock %}

{% block main_content %}

<div class="row">
  <div class="span3 selects">
    <h2>Datasets</h2>
    <br>
    <form class="form-horizontal">

    <div class="control-group">
      <h4> Choose The First Dataset : </h4>
      <select id="dataset_name">
        <option selected="true" value="empty" class="text-center" id="">
          <span class="">-- Select Dataset --</span>
          <span class="caretbox"><span class="caret"></span></span>
        </option>
        {% for name in dataset_names %}
          <option value="{{name}}" class="" id="{{name}}"> {{name|replace("-", " ")|title}} </option>
        {% endfor %}
      </select>
    </div>
    </form>

    <div id="datasets_to_compare_with" class="">
    </div>

    <!-- <br> -->

    <hr>
    <div><a href="{{h.empty_href()}}" class="update-filters btn btn-default hidden"> Update Filters </a></div>
    <div id="matches">
      <ul></ul>
    </div>

  </div>



  <div class="span2 data">
      <h2>Data</h2>
       <div id="y_axe" class="">
        <span class="axe_name"> Y </span>
        <div class="droppable ui-widget-header" id="y"></div>
      </div>

      <div id="x_axe" class="">
        <span class="axe_name"> X </span>
        <div class="droppable ui-widget-header" id="x"></div>
      </div>
      <br>
      <h2> <span style="position:relative; left: -20px;">Marks</span>

      <select id="change_mark_type" class="marks_select pull-right">
        <option value="symbol" selected="selected" label="point">symbol</option>
        <!-- <option value="tick" label="tick">rect</option> -->
        <option value="line" label="line">line</option>
        <option value="area" label="area">area</option>
        <!-- <option value="text" label="text">text</option> -->
      </select>
      </h2>
      <div id="color" class="">
        <span class="axe_name icon-adjust"></span>
        <div class="droppable ui-widget-header" id="color_s"></div>
      </div>

      <div id="size" class="">
        <span class="axe_name icon-resize-horizontal"></span>
        <div class="droppable ui-widget-header" id="size_s"></div>
      </div>

      <div id="size" class="">
        <span class="axe_name icon-th-large"> </span>
        <div class="droppable ui-widget-header" id="size_s"></div>
      </div>


   </div>

  <div class="span8 graphic">
      <!-- <h2>Graphic</h2> -->

      <div id="container">
      </div>
   </div>

</div>

{% snippet 'compare/snippets/choose_uniq_options_per_filter_popup.html' %}

<div id="message_popup" class="modal fade" style="display: none">
    <div class="modal-dialog modal-lg">
        <div class="modal-content.text-center">
            <div class="modal-body disable-scroll" id="message">

            </div>
            <div class="modal-footer">
                <div style="float: right">
                    <button class="btn close_popup">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block scripts %}
  {{ super() }}
  <link rel="stylesheet" type="text/css" href="/common/css/compare.css">
  <link rel="stylesheet" type="text/css" href="/common/css/jquery_ui.css">

  {% resource 'ctdata_theme/to_title_case.js' %}
  {% resource 'ctdata_theme/compare.js' %}
  {% resource 'ctdata_theme/jquery_ui.js' %}
  {% resource 'ctdata_theme/vega.js' %}
  {% resource 'ctdata_theme/d3_v3_min.js' %}

{% endblock %}
